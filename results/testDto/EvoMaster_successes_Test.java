/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.AfterClass;
import  org.junit.BeforeClass;
import  org.junit.Before;
import  org.junit.Test;
import static org.junit.Assert.*;
import  java.util.Map;
import  java.util.Arrays;
import  dto.*;
import  java.util.ArrayList;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-17T22:56:40.959-03:00[America/Argentina/Buenos_Aires]
 * <br>
*  The generated test suite contains 4 tests
 * <br>
*  Covered targets: 18
 * <br>
*  Used time: 0h 1m 9s
 * <br>
*  Needed budget for current results: 50%
 * <br>
*  This file contains test cases that represent successful calls.
*/
public class EvoMaster_successes_Test {

    
    private static String baseUrlOfSut = "http://localhost:5000";
    
    
    @BeforeClass
    public static void initClass() {
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }
    
    
    
    
    
    
    
    
    /**
    * Calls:
    * (200) GET:/dtoSpec.yaml
    */
    @Test(timeout = 60000)
    public void test_0_getOnDtoSpec_yamlReturnsContent() throws Exception {
        
        given().accept("*/*")
                .get(baseUrlOfSut + "/dtoSpec.yaml")
                .then()
                .statusCode(200);
    }
    
    
    /**
    * Calls:
    * (200) POST:/string
    */
    @Test(timeout = 60000)
    public void test_1_postOnStringReturns200() throws Exception {
        
        given().accept("application/json")
                .contentType("application/json")
                .body(" \"SADukFm\" ")
                .post(baseUrlOfSut + "/string")
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("'data'", containsString("\"SADukFm\""))
                .body("'message'", containsString("Received string"));
    }
    
    
    /**
    * Calls:
    * (200) POST:/array
    */
    @Test(timeout = 60000)
    public void test_2_postOnArrayReturns200() throws Exception {
        
        List<Person> list_Person_1 = new ArrayList<Person>();
        Person dto_Person_1 = new Person();
        dto_Person_1.setName("bptuO01xiFk");
        dto_Person_1.setAge(412);
        Address dto_Address_1 = new Address();
        dto_Address_1.setStreet("XeexWe");
        dto_Address_1.setCountry("9QNS3iJrMFD9");
        dto_Address_1.setVoted(false);
        dto_Person_1.setAddress(dto_Address_1);
        list_Person_1.add(dto_Person_1);
        Person dto_Person_2 = new Person();
        dto_Person_2.setName("3Cp3JbneN7UIMb");
        dto_Person_2.setAge(245);
        Address dto_Address_2 = new Address();
        dto_Address_2.setStreet("GCtD");
        dto_Address_2.setCountry("Ef");
        dto_Address_2.setVoted(true);
        dto_Person_2.setAddress(dto_Address_2);
        list_Person_1.add(dto_Person_2);
        
        given().accept("application/json")
                .contentType("application/json")
                .body(list_Person_1)
                .post(baseUrlOfSut + "/array")
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("'data'.size()", equalTo(2))
                .body("'data'[0].'address'.'country'", containsString("9QNS3iJrMFD9"))
                .body("'data'[0].'address'.'street'", containsString("XeexWe"))
                .body("'data'[0].'address'.'voted'", equalTo(false))
                .body("'data'[0].'age'", numberMatches(412.0))
                .body("'data'[0].'name'", containsString("bptuO01xiFk"))
                .body("'data'[1].'address'.'country'", containsString("Ef"))
                .body("'data'[1].'address'.'street'", containsString("GCtD"))
                .body("'data'[1].'address'.'voted'", equalTo(true))
                .body("'data'[1].'age'", numberMatches(245.0))
                .body("'data'[1].'name'", containsString("3Cp3JbneN7UIMb"))
                .body("'message'", containsString("Received array"));
    }
    
    
    /**
    * Calls:
    * (200) POST:/object
    */
    @Test(timeout = 60000)
    public void test_3_postOnObjectReturns200() throws Exception {
        
        Person dto_Person_1 = new Person();
        dto_Person_1.setName("hsfd911MPCXc");
        dto_Person_1.setAge(152);
        Address dto_Address_1 = new Address();
        dto_Address_1.setStreet("E_Nq");
        dto_Address_1.setCountry("sufAN");
        dto_Address_1.setVoted(true);
        dto_Person_1.setAddress(dto_Address_1);
        
        given().accept("application/json")
                .contentType("application/json")
                .body(dto_Person_1)
                .post(baseUrlOfSut + "/object")
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("'data'.'address'.'country'", containsString("sufAN"))
                .body("'data'.'address'.'street'", containsString("E_Nq"))
                .body("'data'.'address'.'voted'", equalTo(true))
                .body("'data'.'age'", numberMatches(152.0))
                .body("'data'.'name'", containsString("hsfd911MPCXc"))
                .body("'message'", containsString("Received object"));
    }


}
